@using Microsoft.Extensions.Localization
@using SpendingTracker_API.Resources.Pages
@inject IStringLocalizer<SharedResources> SharedLocalizer
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
    var title = ViewData["Title"] ?? "Money Diary";
    var currentCulture = System.Globalization.CultureInfo.CurrentCulture.TwoLetterISOLanguageName;
}


<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@title</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- Ccustom styles -->
    @* <link rel="stylesheet" href="~/css/site.css" /> *@
</head>
<body>
    <header class="bg-light py-3 mb-4 border-bottom">
        <div class="container d-flex justify-content-end align-items-center">
            <!-- Language Selector -->
            <span class="me-2">🌐</span>
            <form method="post" asp-page="/Culture/SetCulture" class="d-inline">
                <select name="culture" onchange="this.form.submit()" class="form-select form-select-sm w-auto">
                    <option value="en" selected="@(currentCulture == "en" || currentCulture == "" ? "selected" : null)">English</option>
                    <option value="vi" selected="@(currentCulture == "vi" ? "selected" : null)">Tiếng Việt</option>
                    <!-- Add more options here -->
                </select>
                <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
                @Html.AntiForgeryToken()
            </form>
        </div>
    </header>

    <main role="main" class="container">
        @RenderBody()
    </main>

    <footer class="text-muted py-4 mt-auto border-top">
        <div class="container">
            <p class="mb-0">© @DateTime.Now.Year Spending Tracker. @SharedLocalizer["RightsReserved"].</p>
        </div>
    </footer>

    <!-- Bootstrap JS (optional for components like modals, dropdowns, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
