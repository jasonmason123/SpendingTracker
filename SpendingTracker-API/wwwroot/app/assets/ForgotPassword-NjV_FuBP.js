import{r as a,j as e,L as m,P as u}from"./index-DCB7m4zY.js";import{I as x}from"./InputField-YOShVYpG.js";import{a as g}from"./AuthenticationApiCaller-Dgk2bYhZ.js";import{P as p,A as f}from"./PublicRoute-BlHxCWy0.js";function b(){const[i,c]=a.useState(""),[s,l]=a.useState(!1),[r,o]=a.useState(null),[n,h]=a.useState(!1),d=async()=>{try{l(!0),(await g.forgotPasswordRequest(i)).ok?h(!0):o("Chúng tôi không nhận ra địa chỉ email này. Vui lòng thử lại.")}catch{o("Đã xảy ra lỗi. Vui lòng thử lại.")}finally{l(!1)}};return e.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-y-auto lg:w-1/2 no-scrollbar",children:[e.jsx("div",{className:"w-full max-w-md mx-auto mb-5 sm:pt-10"}),e.jsxs("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-5 sm:mb-8",children:[e.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Khôi phục mật khẩu"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white/70",children:n?`Chúng tôi đã gửi hướng dẫn đến địa chỉ email ${i}. Vui lòng kiểm tra hộp thư đến của bạn.`:"Vui lòng nhập địa chỉ email mà bạn đã sử dụng để đăng ký tài khoản."}),n&&e.jsx("div",{className:"pt-2 text-center",children:e.jsx(m,{to:"/sign-in",className:"text-brand-500 hover:underline",onClick:t=>s&&t.preventDefault(),children:"Quay lại trang đăng nhập"})})]}),!n&&e.jsxs("form",{className:"space-y-4",onSubmit:t=>{t.preventDefault(),d()},children:[r&&e.jsx("p",{className:"mb-4 font-medium text-sm text-red-500",children:r}),e.jsx(x,{disabled:s,placeholder:"Nhập địa chỉ email",type:"email",onChange:t=>c(t.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-brand-500 hover:bg-brand-600 disabled:opacity-50",children:"Gửi mã xác thực"}),e.jsx("div",{className:"pt-2 text-center",children:e.jsx(m,{to:"/sign-in",className:"text-brand-500 hover:underline",onClick:t=>s&&t.preventDefault(),children:"Quay lại trang đăng nhập"})})]})]})]})}function v(){return e.jsxs(p,{children:[e.jsx(u,{title:"Khôi phục mật khẩu",description:"Khôi phục mật khẩu tài khoản của bạn"}),e.jsx(f,{children:e.jsx(b,{})})]})}export{v as default};
