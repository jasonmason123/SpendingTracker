import{r as s,j as e,P as u}from"./index-DSvhOJjZ.js";import{I as x}from"./InputField-PT46ou2s.js";import{P as f,A as p}from"./PublicRoute-LujaL4tE.js";function g(){const[l,m]=s.useState(""),[i,a]=s.useState(!1),[n,r]=s.useState(null),[o,c]=s.useState(!1),d=async()=>{const t=new FormData;t.append("email",l);try{a(!0),(await fetch("/api/forgot-password",{method:"POST",body:t,credentials:"include"})).ok?c(!0):(r("Chúng tôi không nhận ra địa chỉ email này. Vui lòng thử lại."),a(!1))}catch{r("Đã xảy ra lỗi. Vui lòng thử lại."),a(!1)}};return e.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-y-auto lg:w-1/2 no-scrollbar",children:[e.jsx("div",{className:"w-full max-w-md mx-auto mb-5 sm:pt-10"}),e.jsxs("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-5 sm:mb-8",children:[e.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Khôi phục mật khẩu"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white/70",children:o?`Chúng tôi đã gửi hướng dẫn đến địa chỉ email ${l}. Vui lòng kiểm tra hộp thư đến của bạn.`:"Vui lòng nhập địa chỉ email mà bạn đã sử dụng để đăng ký tài khoản."})]}),!o&&e.jsxs("form",{className:"space-y-4",onSubmit:t=>{t.preventDefault(),d()},children:[n&&e.jsx("p",{className:"mb-4 font-medium text-sm text-red-500",children:n}),e.jsx(x,{disabled:i,placeholder:"Nhập địa chỉ email",type:"email",onChange:t=>m(t.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:i,className:"w-full px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-brand-500 hover:bg-brand-600 disabled:opacity-50",children:"Gửi mã xác thực"})]})]})]})}function y(){return e.jsxs(f,{children:[e.jsx(u,{title:"Khôi phục mật khẩu",description:"Khôi phục mật khẩu tài khoản của bạn"}),e.jsx(p,{children:e.jsx(g,{})})]})}export{y as default};
